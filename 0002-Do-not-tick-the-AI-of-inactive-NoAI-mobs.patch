From adc598f75244dc4d2926e61ee3c51053b2bbb691 Mon Sep 17 00:00:00 2001
From: Brokkonaut <hannos17@gmx.de>
Date: Fri, 10 Jun 2022 01:04:24 +0200
Subject: [PATCH 2/5] Do not tick the AI of inactive NoAI mobs

---
 src/main/java/net/minecraft/world/entity/Mob.java | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

diff --git a/src/main/java/net/minecraft/world/entity/Mob.java b/src/main/java/net/minecraft/world/entity/Mob.java
index a55c30d86..cee4968df 100644
--- a/src/main/java/net/minecraft/world/entity/Mob.java
+++ b/src/main/java/net/minecraft/world/entity/Mob.java
@@ -214,12 +214,16 @@ public abstract class Mob extends LivingEntity {
     @Override
     public void inactiveTick() {
         super.inactiveTick();
-        if (this.goalSelector.inactiveTick()) {
-            this.goalSelector.tick();
-        }
-        if (this.targetSelector.inactiveTick()) {
-            this.targetSelector.tick();
+        // Brokko start - isNoAi check
+        if (!this.isNoAi()) {
+            if (this.goalSelector.inactiveTick()) {
+                this.goalSelector.tick();
+            }
+            if (this.targetSelector.inactiveTick()) {
+                this.targetSelector.tick();
+            }
         }
+        // Brokko end
     }
     // Paper end
 
-- 
2.32.0.windows.1

